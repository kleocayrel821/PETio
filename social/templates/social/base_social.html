{% extends "base.html" %}
{% load static %}

{% block title %}{% block social_title %}IOsocial{% endblock %} - PETio{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'social/css/style.css' %}">
<link rel="stylesheet" href="{% static 'social/css/gradient-mesh.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  body.moderation-font { font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
  body.moderation-font .text-sm, body.moderation-font .text-xs, body.moderation-font small { font-family: 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
  body.moderation-font input, body.moderation-font select, body.moderation-font textarea { font-family: 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
</style>
{% block social_extra_head %}{% endblock %}
{% endblock %}

{% block app_nav %}
<div class="tabs tabs-boxed social-nav">
    <a href="{% url 'social:home' %}" class="tab nav-link {% if request.resolver_match.url_name == 'home' %}tab-active{% endif %}">
        <span class="icon-badge-soft icon-inline"><i class="fas fa-home"></i></span>Home
    </a>
    <a href="{% url 'social:feed' %}" class="tab nav-link {% if request.resolver_match.url_name == 'feed' %}tab-active{% endif %}">
        <span class="icon-badge-soft icon-inline"><i class="fas fa-stream"></i></span>Feed
    </a>
    <a href="{% url 'social:dashboard' %}" class="tab nav-link {% if request.resolver_match.url_name == 'dashboard' %}tab-active{% endif %}">
        <span class="icon-badge-soft icon-inline"><i class="fas fa-tachometer-alt"></i></span>Dashboard
    </a>
    <a href="{% url 'social:notifications' %}" class="tab nav-link {% if request.resolver_match.url_name == 'notifications' %}tab-active{% endif %}">
        <span class="icon-badge-soft icon-inline"><i class="fas fa-bell"></i></span>Notifications
        <span id="notifBadge" class="badge badge-primary ml-2" {% if unread_notifications_count|default:0 == 0 %}style="display:none;"{% endif %}>{{ unread_notifications_count|default:0 }}</span>
    </a>
</div>
{% endblock %}

{% block sidebar %}
  {% with view_name=request.resolver_match.url_name %}
    {% include 'social/sidebar.html' with current_app='social' view_name=view_name %}
  {% endwith %}
{% endblock %}

{% block content %}
  {% block social_content %}{% endblock %}
{% endblock %}

{% block scripts %}
  <script src="{% static 'social/js/interactions.js' %}"></script>
  {% block social_scripts %}{% endblock %}
  {% block extra_js %}{% endblock %}
  {# Inline Social badge polling removed; global navigation.js updates badges consistently #}
{% endblock %}
