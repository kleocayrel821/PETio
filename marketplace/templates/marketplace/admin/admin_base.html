{% extends "base.html" %}
{% load static %}

{% block title %}{% block admin_title %}Marketplace Admin{% endblock %} - PETio{% endblock %}

{% block body_class %} class="layout-admin"{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'marketplace/css/admin.css' %}">
  {# Lucide icons will be initialized in scripts; include any extra head content here if needed #}
{% endblock %}

{# Use the global base layout and sidebar to share the same UI #}
{% block sidebar %}
  {% block admin_sidebar %}{% endblock %}
{% endblock %}

{% block content %}
  {% block admin_messages %}
  {% if messages %}
  <div class="space-y-2 mb-4">
    {% for message in messages %}
    <div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}">
      <span>{{ message }}</span>
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% endblock %}

  <div class="card bg-base-100 shadow">
    <div class="card-body p-4">
      {% block admin_content %}{% endblock %}
    </div>
  </div>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'marketplace/admin.js' %}"></script>
{% endblock %}

{% block scripts %}
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    // Initialize Lucide icons when library is ready
    document.addEventListener('DOMContentLoaded', function() { try { if (window.lucide) { window.lucide.createIcons(); } } catch (e) {} });
  </script>
{% endblock %}